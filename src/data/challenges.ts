export interface Challenge {
  id: string;
  title: string;
  description: string;
  language: 'python' | 'javascript' | 'cpp';
  starterCode: string;
  testCases: {
    input: string;
    expectedOutput: string;
  }[];
  hints: string[];
}

const pythonChallenges: Challenge[] = [
  // Basic Level 1
  { id: 'python_basic_1_1', title: 'Hello World', description: 'Write a function that returns "Hello, World!"', language: 'python', starterCode: 'def hello_world():\n    # Your code here\n    pass', testCases: [{ input: '', expectedOutput: 'Hello, World!' }], hints: ['Use the return statement'] },
  { id: 'python_basic_1_2', title: 'Add Two Numbers', description: 'Write a function that adds two numbers and returns the result.', language: 'python', starterCode: 'def add(a, b):\n    # Your code here\n    pass', testCases: [{ input: '2, 3', expectedOutput: '5' }, { input: '-1, 1', expectedOutput: '0' }], hints: ['Use the + operator'] },
  { id: 'python_basic_1_3', title: 'Variable Swap', description: 'Write a function that swaps two variables and returns them as a tuple.', language: 'python', starterCode: 'def swap(a, b):\n    # Your code here\n    pass', testCases: [{ input: '1, 2', expectedOutput: '(2, 1)' }], hints: ['Python allows multiple assignment'] },
  // Basic Level 2
  { id: 'python_basic_2_1', title: 'Check Even', description: 'Write a function that returns True if a number is even.', language: 'python', starterCode: 'def is_even(n):\n    # Your code here\n    pass', testCases: [{ input: '4', expectedOutput: 'True' }, { input: '7', expectedOutput: 'False' }], hints: ['Use modulo operator %'] },
  { id: 'python_basic_2_2', title: 'Type Checker', description: 'Write a function that returns the type of the input as a string.', language: 'python', starterCode: 'def get_type(x):\n    # Your code here\n    pass', testCases: [{ input: '5', expectedOutput: "int" }], hints: ['Use type() function'] },
  { id: 'python_basic_2_3', title: 'Boolean Logic', description: 'Write a function that returns True if both inputs are True.', language: 'python', starterCode: 'def both_true(a, b):\n    # Your code here\n    pass', testCases: [{ input: 'True, True', expectedOutput: 'True' }, { input: 'True, False', expectedOutput: 'False' }], hints: ['Use and operator'] },
  // Basic Level 3-7
  { id: 'python_basic_3_1', title: 'Multiply Numbers', description: 'Write a function that multiplies two numbers.', language: 'python', starterCode: 'def multiply(a, b):\n    pass', testCases: [{ input: '3, 4', expectedOutput: '12' }], hints: ['Use *'] },
  { id: 'python_basic_3_2', title: 'Absolute Value', description: 'Return the absolute value of a number.', language: 'python', starterCode: 'def absolute(n):\n    pass', testCases: [{ input: '-5', expectedOutput: '5' }], hints: ['Use abs()'] },
  { id: 'python_basic_3_3', title: 'Max of Two', description: 'Return the larger of two numbers.', language: 'python', starterCode: 'def max_two(a, b):\n    pass', testCases: [{ input: '3, 7', expectedOutput: '7' }], hints: ['Use max()'] },
  { id: 'python_basic_4_1', title: 'String Length', description: 'Return the length of a string.', language: 'python', starterCode: 'def str_len(s):\n    pass', testCases: [{ input: '"hello"', expectedOutput: '5' }], hints: ['Use len()'] },
  { id: 'python_basic_4_2', title: 'Uppercase', description: 'Convert string to uppercase.', language: 'python', starterCode: 'def to_upper(s):\n    pass', testCases: [{ input: '"hello"', expectedOutput: 'HELLO' }], hints: ['Use .upper()'] },
  { id: 'python_basic_4_3', title: 'First Char', description: 'Return the first character.', language: 'python', starterCode: 'def first_char(s):\n    pass', testCases: [{ input: '"python"', expectedOutput: 'p' }], hints: ['Use indexing'] },
  { id: 'python_basic_5_1', title: 'List Sum', description: 'Return the sum of a list.', language: 'python', starterCode: 'def list_sum(lst):\n    pass', testCases: [{ input: '[1,2,3]', expectedOutput: '6' }], hints: ['Use sum()'] },
  { id: 'python_basic_5_2', title: 'List Length', description: 'Return list length.', language: 'python', starterCode: 'def list_len(lst):\n    pass', testCases: [{ input: '[1,2,3]', expectedOutput: '3' }], hints: ['Use len()'] },
  { id: 'python_basic_5_3', title: 'Append Item', description: 'Append item to list.', language: 'python', starterCode: 'def append_item(lst, item):\n    pass', testCases: [{ input: '[1,2], 3', expectedOutput: '[1, 2, 3]' }], hints: ['Use .append()'] },
  { id: 'python_basic_6_1', title: 'Tuple Access', description: 'Return first element of tuple.', language: 'python', starterCode: 'def first_of_tuple(t):\n    pass', testCases: [{ input: '(1,2,3)', expectedOutput: '1' }], hints: ['Use indexing'] },
  { id: 'python_basic_6_2', title: 'Tuple Length', description: 'Return tuple length.', language: 'python', starterCode: 'def tuple_len(t):\n    pass', testCases: [{ input: '(1,2,3)', expectedOutput: '3' }], hints: ['Use len()'] },
  { id: 'python_basic_6_3', title: 'Create Tuple', description: 'Create tuple from two values.', language: 'python', starterCode: 'def make_tuple(a, b):\n    pass', testCases: [{ input: '1, 2', expectedOutput: '(1, 2)' }], hints: ['Use parentheses'] },
  { id: 'python_basic_7_1', title: 'Dict Access', description: 'Return value for a key.', language: 'python', starterCode: 'def get_value(d, key):\n    pass', testCases: [{ input: '{"a": 1}, "a"', expectedOutput: '1' }], hints: ['Use d[key]'] },
  { id: 'python_basic_7_2', title: 'Dict Keys', description: 'Return all keys.', language: 'python', starterCode: 'def get_keys(d):\n    pass', testCases: [{ input: '{"a": 1, "b": 2}', expectedOutput: "['a', 'b']" }], hints: ['Use .keys()'] },
  { id: 'python_basic_7_3', title: 'Add to Dict', description: 'Add key-value pair.', language: 'python', starterCode: 'def add_to_dict(d, k, v):\n    pass', testCases: [{ input: '{}, "a", 1', expectedOutput: '{"a": 1}' }], hints: ['Use d[k] = v'] },
  // Intermediate
  { id: 'python_intermediate_1_1', title: 'Function Factory', description: 'Create a function that returns a function.', language: 'python', starterCode: 'def make_adder(n):\n    pass', testCases: [{ input: '5', expectedOutput: 'function' }], hints: ['Return inner function'] },
  { id: 'python_intermediate_1_2', title: 'Default Args', description: 'Write function with default argument.', language: 'python', starterCode: 'def greet(name="World"):\n    pass', testCases: [{ input: '', expectedOutput: 'Hello, World!' }], hints: ['Use default parameter'] },
  { id: 'python_intermediate_1_3', title: 'Args Kwargs', description: 'Write function accepting any args.', language: 'python', starterCode: 'def accept_all(*args, **kwargs):\n    pass', testCases: [{ input: '1, 2, a=3', expectedOutput: '3' }], hints: ['Use len(args) + len(kwargs)'] },
  { id: 'python_intermediate_2_1', title: 'Import Math', description: 'Use math module for square root.', language: 'python', starterCode: 'import math\ndef sqrt(n):\n    pass', testCases: [{ input: '16', expectedOutput: '4.0' }], hints: ['Use math.sqrt()'] },
  { id: 'python_intermediate_2_2', title: 'Random Choice', description: 'Return random item from list.', language: 'python', starterCode: 'import random\ndef pick(lst):\n    pass', testCases: [{ input: '[1,2,3]', expectedOutput: 'item' }], hints: ['Use random.choice()'] },
  { id: 'python_intermediate_2_3', title: 'Date Today', description: 'Return today as string.', language: 'python', starterCode: 'from datetime import date\ndef today():\n    pass', testCases: [{ input: '', expectedOutput: 'date' }], hints: ['Use date.today()'] },
  { id: 'python_intermediate_3_1', title: 'Read File', description: 'Read file content.', language: 'python', starterCode: 'def read_file(path):\n    pass', testCases: [{ input: '"test.txt"', expectedOutput: 'content' }], hints: ['Use open() and read()'] },
  { id: 'python_intermediate_3_2', title: 'Write File', description: 'Write to file.', language: 'python', starterCode: 'def write_file(path, content):\n    pass', testCases: [{ input: '"test.txt", "hello"', expectedOutput: 'True' }], hints: ['Use open() with "w" mode'] },
  { id: 'python_intermediate_3_3', title: 'Append File', description: 'Append to file.', language: 'python', starterCode: 'def append_file(path, content):\n    pass', testCases: [{ input: '"test.txt", "more"', expectedOutput: 'True' }], hints: ['Use "a" mode'] },
  { id: 'python_intermediate_4_1', title: 'Try Except', description: 'Handle division by zero.', language: 'python', starterCode: 'def safe_divide(a, b):\n    pass', testCases: [{ input: '10, 0', expectedOutput: 'Error' }], hints: ['Use try/except'] },
  { id: 'python_intermediate_4_2', title: 'Raise Error', description: 'Raise custom error.', language: 'python', starterCode: 'def validate(x):\n    pass', testCases: [{ input: '-1', expectedOutput: 'ValueError' }], hints: ['Use raise'] },
  { id: 'python_intermediate_4_3', title: 'Finally Block', description: 'Use finally for cleanup.', language: 'python', starterCode: 'def with_cleanup():\n    pass', testCases: [{ input: '', expectedOutput: 'cleaned' }], hints: ['Use finally'] },
  { id: 'python_intermediate_5_1', title: 'Simple Class', description: 'Create a Person class.', language: 'python', starterCode: 'class Person:\n    pass', testCases: [{ input: 'Person("Alice")', expectedOutput: 'Alice' }], hints: ['Use __init__'] },
  { id: 'python_intermediate_5_2', title: 'Class Method', description: 'Add method to class.', language: 'python', starterCode: 'class Counter:\n    pass', testCases: [{ input: 'Counter().increment()', expectedOutput: '1' }], hints: ['Define method in class'] },
  { id: 'python_intermediate_5_3', title: 'Property', description: 'Use @property decorator.', language: 'python', starterCode: 'class Circle:\n    pass', testCases: [{ input: 'Circle(5).area', expectedOutput: '78.5' }], hints: ['Use @property'] },
  { id: 'python_intermediate_6_1', title: 'Inheritance', description: 'Create child class.', language: 'python', starterCode: 'class Animal:\n    pass\nclass Dog(Animal):\n    pass', testCases: [{ input: 'Dog().speak()', expectedOutput: 'Woof' }], hints: ['Use super()'] },
  { id: 'python_intermediate_6_2', title: 'Override Method', description: 'Override parent method.', language: 'python', starterCode: 'class Parent:\n    pass\nclass Child(Parent):\n    pass', testCases: [{ input: 'Child().greet()', expectedOutput: 'Hello from Child' }], hints: ['Define same method name'] },
  { id: 'python_intermediate_6_3', title: 'Multiple Inheritance', description: 'Inherit from multiple classes.', language: 'python', starterCode: 'class A:\n    pass\nclass B:\n    pass\nclass C(A, B):\n    pass', testCases: [{ input: 'C().method()', expectedOutput: 'Combined' }], hints: ['List multiple parents'] },
  { id: 'python_intermediate_7_1', title: 'Simple Decorator', description: 'Create a decorator.', language: 'python', starterCode: 'def my_decorator(func):\n    pass', testCases: [{ input: '@my_decorator', expectedOutput: 'decorated' }], hints: ['Return wrapper function'] },
  { id: 'python_intermediate_7_2', title: 'Decorator with Args', description: 'Decorator that accepts arguments.', language: 'python', starterCode: 'def repeat(n):\n    pass', testCases: [{ input: '@repeat(3)', expectedOutput: 'repeated' }], hints: ['Nest functions'] },
  { id: 'python_intermediate_7_3', title: 'Class Decorator', description: 'Decorate a class.', language: 'python', starterCode: 'def add_method(cls):\n    pass', testCases: [{ input: '@add_method', expectedOutput: 'added' }], hints: ['Modify class and return'] },
  // Advanced
  { id: 'python_advanced_1_1', title: 'Generator', description: 'Create a generator.', language: 'python', starterCode: 'def count_up(n):\n    pass', testCases: [{ input: '5', expectedOutput: '[0,1,2,3,4]' }], hints: ['Use yield'] },
  { id: 'python_advanced_1_2', title: 'Generator Expression', description: 'Use generator expression.', language: 'python', starterCode: 'def squares(n):\n    pass', testCases: [{ input: '3', expectedOutput: '[0,1,4]' }], hints: ['Use (x**2 for x in range(n))'] },
  { id: 'python_advanced_1_3', title: 'Infinite Generator', description: 'Create infinite sequence.', language: 'python', starterCode: 'def infinite():\n    pass', testCases: [{ input: 'next(infinite())', expectedOutput: '0' }], hints: ['Use while True'] },
  { id: 'python_advanced_2_1', title: 'Async Function', description: 'Write async function.', language: 'python', starterCode: 'async def fetch():\n    pass', testCases: [{ input: 'await fetch()', expectedOutput: 'data' }], hints: ['Use async def'] },
  { id: 'python_advanced_2_2', title: 'Await Multiple', description: 'Await multiple coroutines.', language: 'python', starterCode: 'async def gather_all():\n    pass', testCases: [{ input: 'await gather_all()', expectedOutput: '[1,2,3]' }], hints: ['Use asyncio.gather'] },
  { id: 'python_advanced_2_3', title: 'Async Context', description: 'Async context manager.', language: 'python', starterCode: 'class AsyncManager:\n    pass', testCases: [{ input: 'async with AsyncManager():', expectedOutput: 'managed' }], hints: ['Use __aenter__ and __aexit__'] },
  { id: 'python_advanced_3_1', title: 'Metaclass', description: 'Create a metaclass.', language: 'python', starterCode: 'class Meta(type):\n    pass', testCases: [{ input: 'class A(metaclass=Meta):', expectedOutput: 'created' }], hints: ['Override __new__'] },
  { id: 'python_advanced_3_2', title: 'Singleton', description: 'Implement singleton pattern.', language: 'python', starterCode: 'class Singleton:\n    pass', testCases: [{ input: 'Singleton() is Singleton()', expectedOutput: 'True' }], hints: ['Use __new__'] },
  { id: 'python_advanced_3_3', title: 'Abstract Base', description: 'Create abstract base class.', language: 'python', starterCode: 'from abc import ABC\nclass Base(ABC):\n    pass', testCases: [{ input: 'Base()', expectedOutput: 'TypeError' }], hints: ['Use @abstractmethod'] },
  { id: 'python_advanced_4_1', title: 'Context Manager', description: 'Create context manager.', language: 'python', starterCode: 'class FileManager:\n    pass', testCases: [{ input: 'with FileManager():', expectedOutput: 'managed' }], hints: ['Use __enter__ and __exit__'] },
  { id: 'python_advanced_4_2', title: 'Contextlib', description: 'Use contextlib decorator.', language: 'python', starterCode: 'from contextlib import contextmanager\n@contextmanager\ndef managed():\n    pass', testCases: [{ input: 'with managed():', expectedOutput: 'done' }], hints: ['Use yield'] },
  { id: 'python_advanced_4_3', title: 'Nested Context', description: 'Nest context managers.', language: 'python', starterCode: 'def nested():\n    pass', testCases: [{ input: 'nested()', expectedOutput: 'nested' }], hints: ['Use ExitStack'] },
  { id: 'python_advanced_5_1', title: 'Thread', description: 'Create a thread.', language: 'python', starterCode: 'import threading\ndef threaded():\n    pass', testCases: [{ input: 'threaded()', expectedOutput: 'done' }], hints: ['Use threading.Thread'] },
  { id: 'python_advanced_5_2', title: 'Thread Lock', description: 'Use thread lock.', language: 'python', starterCode: 'import threading\nlock = threading.Lock()\ndef safe_increment():\n    pass', testCases: [{ input: 'safe_increment()', expectedOutput: '1' }], hints: ['Use with lock:'] },
  { id: 'python_advanced_5_3', title: 'Thread Pool', description: 'Use thread pool.', language: 'python', starterCode: 'from concurrent.futures import ThreadPoolExecutor\ndef pool_work():\n    pass', testCases: [{ input: 'pool_work()', expectedOutput: '[1,2,3]' }], hints: ['Use executor.map'] },
  { id: 'python_advanced_6_1', title: 'Multiprocessing', description: 'Create a process.', language: 'python', starterCode: 'from multiprocessing import Process\ndef multi():\n    pass', testCases: [{ input: 'multi()', expectedOutput: 'done' }], hints: ['Use Process'] },
  { id: 'python_advanced_6_2', title: 'Process Pool', description: 'Use process pool.', language: 'python', starterCode: 'from multiprocessing import Pool\ndef pool_multi():\n    pass', testCases: [{ input: 'pool_multi()', expectedOutput: '[1,2,3]' }], hints: ['Use pool.map'] },
  { id: 'python_advanced_6_3', title: 'Shared Memory', description: 'Share data between processes.', language: 'python', starterCode: 'from multiprocessing import Value\ndef shared():\n    pass', testCases: [{ input: 'shared()', expectedOutput: '10' }], hints: ['Use Value or Array'] },
  { id: 'python_advanced_7_1', title: 'Factory Pattern', description: 'Implement factory pattern.', language: 'python', starterCode: 'def factory(type):\n    pass', testCases: [{ input: 'factory("a")', expectedOutput: 'A()' }], hints: ['Return different classes'] },
  { id: 'python_advanced_7_2', title: 'Observer Pattern', description: 'Implement observer pattern.', language: 'python', starterCode: 'class Subject:\n    pass\nclass Observer:\n    pass', testCases: [{ input: 'Subject().notify()', expectedOutput: 'notified' }], hints: ['Store observers in list'] },
  { id: 'python_advanced_7_3', title: 'Strategy Pattern', description: 'Implement strategy pattern.', language: 'python', starterCode: 'class Strategy:\n    pass', testCases: [{ input: 'Strategy().execute()', expectedOutput: 'executed' }], hints: ['Swap algorithms at runtime'] },
];

const javascriptChallenges: Challenge[] = [
  // Basic Level 1-7
  { id: 'javascript_basic_1_1', title: 'Hello World', description: 'Return "Hello, World!"', language: 'javascript', starterCode: 'function helloWorld() {\n  // Your code here\n}', testCases: [{ input: '', expectedOutput: 'Hello, World!' }], hints: ['Use return'] },
  { id: 'javascript_basic_1_2', title: 'Add Numbers', description: 'Add two numbers.', language: 'javascript', starterCode: 'function add(a, b) {\n  // Your code here\n}', testCases: [{ input: '2, 3', expectedOutput: '5' }], hints: ['Use +'] },
  { id: 'javascript_basic_1_3', title: 'Variable Types', description: 'Return typeof input.', language: 'javascript', starterCode: 'function getType(x) {\n  // Your code here\n}', testCases: [{ input: '5', expectedOutput: 'number' }], hints: ['Use typeof'] },
  { id: 'javascript_basic_2_1', title: 'String to Number', description: 'Convert string to number.', language: 'javascript', starterCode: 'function toNumber(s) {\n}', testCases: [{ input: '"42"', expectedOutput: '42' }], hints: ['Use parseInt or Number'] },
  { id: 'javascript_basic_2_2', title: 'Number to String', description: 'Convert number to string.', language: 'javascript', starterCode: 'function toString(n) {\n}', testCases: [{ input: '42', expectedOutput: '"42"' }], hints: ['Use .toString() or String()'] },
  { id: 'javascript_basic_2_3', title: 'Boolean Check', description: 'Return true if truthy.', language: 'javascript', starterCode: 'function isTruthy(x) {\n}', testCases: [{ input: '1', expectedOutput: 'true' }], hints: ['Use Boolean()'] },
  { id: 'javascript_basic_3_1', title: 'Comparison', description: 'Return true if a > b.', language: 'javascript', starterCode: 'function isGreater(a, b) {\n}', testCases: [{ input: '5, 3', expectedOutput: 'true' }], hints: ['Use >'] },
  { id: 'javascript_basic_3_2', title: 'Strict Equality', description: 'Check strict equality.', language: 'javascript', starterCode: 'function strictEqual(a, b) {\n}', testCases: [{ input: '5, "5"', expectedOutput: 'false' }], hints: ['Use ==='] },
  { id: 'javascript_basic_3_3', title: 'Ternary', description: 'Use ternary operator.', language: 'javascript', starterCode: 'function ternary(cond) {\n}', testCases: [{ input: 'true', expectedOutput: '"yes"' }], hints: ['Use ? :'] },
  { id: 'javascript_basic_4_1', title: 'String Length', description: 'Return string length.', language: 'javascript', starterCode: 'function strLen(s) {\n}', testCases: [{ input: '"hello"', expectedOutput: '5' }], hints: ['Use .length'] },
  { id: 'javascript_basic_4_2', title: 'Uppercase', description: 'Convert to uppercase.', language: 'javascript', starterCode: 'function toUpper(s) {\n}', testCases: [{ input: '"hello"', expectedOutput: 'HELLO' }], hints: ['Use .toUpperCase()'] },
  { id: 'javascript_basic_4_3', title: 'Substring', description: 'Get first 3 characters.', language: 'javascript', starterCode: 'function firstThree(s) {\n}', testCases: [{ input: '"hello"', expectedOutput: 'hel' }], hints: ['Use .substring()'] },
  { id: 'javascript_basic_5_1', title: 'Array Length', description: 'Return array length.', language: 'javascript', starterCode: 'function arrLen(arr) {\n}', testCases: [{ input: '[1,2,3]', expectedOutput: '3' }], hints: ['Use .length'] },
  { id: 'javascript_basic_5_2', title: 'Push Item', description: 'Add item to array.', language: 'javascript', starterCode: 'function pushItem(arr, item) {\n}', testCases: [{ input: '[1,2], 3', expectedOutput: '[1,2,3]' }], hints: ['Use .push()'] },
  { id: 'javascript_basic_5_3', title: 'Pop Item', description: 'Remove last item.', language: 'javascript', starterCode: 'function popItem(arr) {\n}', testCases: [{ input: '[1,2,3]', expectedOutput: '3' }], hints: ['Use .pop()'] },
  { id: 'javascript_basic_6_1', title: 'Object Property', description: 'Get object property.', language: 'javascript', starterCode: 'function getProp(obj, key) {\n}', testCases: [{ input: '{a: 1}, "a"', expectedOutput: '1' }], hints: ['Use obj[key]'] },
  { id: 'javascript_basic_6_2', title: 'Object Keys', description: 'Get all keys.', language: 'javascript', starterCode: 'function getKeys(obj) {\n}', testCases: [{ input: '{a:1, b:2}', expectedOutput: '["a","b"]' }], hints: ['Use Object.keys()'] },
  { id: 'javascript_basic_6_3', title: 'Add Property', description: 'Add property to object.', language: 'javascript', starterCode: 'function addProp(obj, key, val) {\n}', testCases: [{ input: '{}, "a", 1', expectedOutput: '{a: 1}' }], hints: ['Use obj[key] = val'] },
  { id: 'javascript_basic_7_1', title: 'Get Element', description: 'Select element by ID.', language: 'javascript', starterCode: 'function getById(id) {\n}', testCases: [{ input: '"app"', expectedOutput: 'element' }], hints: ['Use getElementById'] },
  { id: 'javascript_basic_7_2', title: 'Create Element', description: 'Create a div element.', language: 'javascript', starterCode: 'function createDiv() {\n}', testCases: [{ input: '', expectedOutput: 'div' }], hints: ['Use createElement'] },
  { id: 'javascript_basic_7_3', title: 'Set Text', description: 'Set element text content.', language: 'javascript', starterCode: 'function setText(el, text) {\n}', testCases: [{ input: 'el, "hello"', expectedOutput: 'hello' }], hints: ['Use textContent'] },
  // Intermediate
  { id: 'javascript_intermediate_1_1', title: 'Arrow Function', description: 'Convert to arrow function.', language: 'javascript', starterCode: 'const add = // Your code', testCases: [{ input: '2, 3', expectedOutput: '5' }], hints: ['Use =>'] },
  { id: 'javascript_intermediate_1_2', title: 'Default Params', description: 'Use default parameters.', language: 'javascript', starterCode: 'function greet(name = "World") {\n}', testCases: [{ input: '', expectedOutput: 'Hello, World!' }], hints: ['Use = in params'] },
  { id: 'javascript_intermediate_1_3', title: 'Rest Params', description: 'Use rest parameters.', language: 'javascript', starterCode: 'function sum(...nums) {\n}', testCases: [{ input: '1,2,3', expectedOutput: '6' }], hints: ['Use ...'] },
  { id: 'javascript_intermediate_2_1', title: 'Closure', description: 'Create a closure.', language: 'javascript', starterCode: 'function makeCounter() {\n}', testCases: [{ input: 'counter()', expectedOutput: '1' }], hints: ['Return inner function'] },
  { id: 'javascript_intermediate_2_2', title: 'IIFE', description: 'Create immediately invoked function.', language: 'javascript', starterCode: 'const result = // Your code', testCases: [{ input: '', expectedOutput: '42' }], hints: ['Use (function(){})()'] },
  { id: 'javascript_intermediate_2_3', title: 'Currying', description: 'Implement currying.', language: 'javascript', starterCode: 'function curry(fn) {\n}', testCases: [{ input: 'curry(add)(1)(2)', expectedOutput: '3' }], hints: ['Return nested functions'] },
  { id: 'javascript_intermediate_3_1', title: 'Callback', description: 'Use a callback function.', language: 'javascript', starterCode: 'function doAsync(callback) {\n}', testCases: [{ input: '() => "done"', expectedOutput: 'done' }], hints: ['Call callback()'] },
  { id: 'javascript_intermediate_3_2', title: 'setTimeout', description: 'Use setTimeout.', language: 'javascript', starterCode: 'function delay(ms, fn) {\n}', testCases: [{ input: '100, () => 1', expectedOutput: '1' }], hints: ['Use setTimeout'] },
  { id: 'javascript_intermediate_3_3', title: 'setInterval', description: 'Use setInterval.', language: 'javascript', starterCode: 'function ticker(ms) {\n}', testCases: [{ input: '100', expectedOutput: 'interval' }], hints: ['Use setInterval'] },
  { id: 'javascript_intermediate_4_1', title: 'Create Promise', description: 'Create a Promise.', language: 'javascript', starterCode: 'function createPromise() {\n}', testCases: [{ input: '', expectedOutput: 'resolved' }], hints: ['Use new Promise'] },
  { id: 'javascript_intermediate_4_2', title: 'Promise Chain', description: 'Chain promises.', language: 'javascript', starterCode: 'function chain(p) {\n}', testCases: [{ input: 'Promise.resolve(1)', expectedOutput: '2' }], hints: ['Use .then()'] },
  { id: 'javascript_intermediate_4_3', title: 'Promise All', description: 'Wait for all promises.', language: 'javascript', starterCode: 'function waitAll(promises) {\n}', testCases: [{ input: '[p1, p2]', expectedOutput: '[1, 2]' }], hints: ['Use Promise.all'] },
  { id: 'javascript_intermediate_5_1', title: 'Async Function', description: 'Create async function.', language: 'javascript', starterCode: 'async function fetchData() {\n}', testCases: [{ input: '', expectedOutput: 'data' }], hints: ['Use async/await'] },
  { id: 'javascript_intermediate_5_2', title: 'Await Promise', description: 'Await a promise.', language: 'javascript', starterCode: 'async function awaitMe(p) {\n}', testCases: [{ input: 'Promise.resolve(1)', expectedOutput: '1' }], hints: ['Use await'] },
  { id: 'javascript_intermediate_5_3', title: 'Try Catch Async', description: 'Handle async errors.', language: 'javascript', starterCode: 'async function safeFetch() {\n}', testCases: [{ input: '', expectedOutput: 'error handled' }], hints: ['Use try/catch'] },
  { id: 'javascript_intermediate_6_1', title: 'Class', description: 'Create a class.', language: 'javascript', starterCode: 'class Person {\n}', testCases: [{ input: 'new Person("Alice")', expectedOutput: 'Alice' }], hints: ['Use constructor'] },
  { id: 'javascript_intermediate_6_2', title: 'Getter/Setter', description: 'Use getter and setter.', language: 'javascript', starterCode: 'class Circle {\n}', testCases: [{ input: 'circle.area', expectedOutput: '78.5' }], hints: ['Use get/set'] },
  { id: 'javascript_intermediate_6_3', title: 'Static Method', description: 'Add static method.', language: 'javascript', starterCode: 'class MathUtils {\n}', testCases: [{ input: 'MathUtils.add(1,2)', expectedOutput: '3' }], hints: ['Use static'] },
  { id: 'javascript_intermediate_7_1', title: 'Import/Export', description: 'Use ES6 modules.', language: 'javascript', starterCode: 'export function helper() {\n}', testCases: [{ input: 'import { helper }', expectedOutput: 'imported' }], hints: ['Use export/import'] },
  { id: 'javascript_intermediate_7_2', title: 'Default Export', description: 'Use default export.', language: 'javascript', starterCode: 'export default function main() {\n}', testCases: [{ input: 'import main', expectedOutput: 'main' }], hints: ['Use export default'] },
  { id: 'javascript_intermediate_7_3', title: 'Dynamic Import', description: 'Use dynamic import.', language: 'javascript', starterCode: 'async function loadModule() {\n}', testCases: [{ input: '', expectedOutput: 'loaded' }], hints: ['Use import()'] },
  // Advanced
  { id: 'javascript_advanced_1_1', title: 'Prototype', description: 'Add method to prototype.', language: 'javascript', starterCode: 'Array.prototype.last = function() {\n}', testCases: [{ input: '[1,2,3].last()', expectedOutput: '3' }], hints: ['Use this'] },
  { id: 'javascript_advanced_1_2', title: 'Create Object', description: 'Use Object.create.', language: 'javascript', starterCode: 'function createFrom(proto) {\n}', testCases: [{ input: '{a:1}', expectedOutput: 'object' }], hints: ['Use Object.create'] },
  { id: 'javascript_advanced_1_3', title: 'Check Prototype', description: 'Check prototype chain.', language: 'javascript', starterCode: 'function isInChain(obj, proto) {\n}', testCases: [{ input: 'obj, proto', expectedOutput: 'true' }], hints: ['Use isPrototypeOf'] },
  { id: 'javascript_advanced_2_1', title: 'Event Loop', description: 'Demonstrate event loop.', language: 'javascript', starterCode: 'function eventLoopDemo() {\n}', testCases: [{ input: '', expectedOutput: 'correct order' }], hints: ['Use setTimeout(fn, 0)'] },
  { id: 'javascript_advanced_2_2', title: 'Microtask', description: 'Schedule microtask.', language: 'javascript', starterCode: 'function microtask(fn) {\n}', testCases: [{ input: '() => 1', expectedOutput: '1' }], hints: ['Use queueMicrotask'] },
  { id: 'javascript_advanced_2_3', title: 'Task Order', description: 'Predict task execution order.', language: 'javascript', starterCode: 'function taskOrder() {\n}', testCases: [{ input: '', expectedOutput: '[1,2,3]' }], hints: ['Microtasks before tasks'] },
  { id: 'javascript_advanced_3_1', title: 'Fetch API', description: 'Use fetch API.', language: 'javascript', starterCode: 'async function fetchJSON(url) {\n}', testCases: [{ input: 'url', expectedOutput: 'data' }], hints: ['Use fetch()'] },
  { id: 'javascript_advanced_3_2', title: 'WebSocket', description: 'Create WebSocket.', language: 'javascript', starterCode: 'function createSocket(url) {\n}', testCases: [{ input: 'ws://...', expectedOutput: 'connected' }], hints: ['Use new WebSocket'] },
  { id: 'javascript_advanced_3_3', title: 'Local Storage', description: 'Use localStorage.', language: 'javascript', starterCode: 'function storeData(key, value) {\n}', testCases: [{ input: '"key", "value"', expectedOutput: 'stored' }], hints: ['Use localStorage.setItem'] },
  { id: 'javascript_advanced_4_1', title: 'Debounce', description: 'Implement debounce.', language: 'javascript', starterCode: 'function debounce(fn, ms) {\n}', testCases: [{ input: 'fn, 100', expectedOutput: 'debounced' }], hints: ['Use clearTimeout'] },
  { id: 'javascript_advanced_4_2', title: 'Throttle', description: 'Implement throttle.', language: 'javascript', starterCode: 'function throttle(fn, ms) {\n}', testCases: [{ input: 'fn, 100', expectedOutput: 'throttled' }], hints: ['Track last call time'] },
  { id: 'javascript_advanced_4_3', title: 'Memoize', description: 'Implement memoization.', language: 'javascript', starterCode: 'function memoize(fn) {\n}', testCases: [{ input: 'fn', expectedOutput: 'cached' }], hints: ['Use Map'] },
  { id: 'javascript_advanced_5_1', title: 'Unit Test', description: 'Write a unit test.', language: 'javascript', starterCode: 'function test(name, fn) {\n}', testCases: [{ input: '"test", () => true', expectedOutput: 'passed' }], hints: ['Use try/catch'] },
  { id: 'javascript_advanced_5_2', title: 'Mock Function', description: 'Create a mock function.', language: 'javascript', starterCode: 'function createMock() {\n}', testCases: [{ input: '', expectedOutput: 'mock' }], hints: ['Track calls'] },
  { id: 'javascript_advanced_5_3', title: 'Spy Function', description: 'Create a spy.', language: 'javascript', starterCode: 'function spy(fn) {\n}', testCases: [{ input: 'fn', expectedOutput: 'called' }], hints: ['Wrap original function'] },
  { id: 'javascript_advanced_6_1', title: 'Singleton', description: 'Implement singleton.', language: 'javascript', starterCode: 'const Singleton = (function() {\n})();', testCases: [{ input: 'Singleton', expectedOutput: 'same' }], hints: ['Use closure'] },
  { id: 'javascript_advanced_6_2', title: 'Observer', description: 'Implement observer.', language: 'javascript', starterCode: 'class EventEmitter {\n}', testCases: [{ input: 'emitter.emit("event")', expectedOutput: 'notified' }], hints: ['Use Map of listeners'] },
  { id: 'javascript_advanced_6_3', title: 'Pub/Sub', description: 'Implement pub/sub.', language: 'javascript', starterCode: 'class PubSub {\n}', testCases: [{ input: 'pubsub.publish("topic")', expectedOutput: 'published' }], hints: ['Subscribe/publish methods'] },
  { id: 'javascript_advanced_7_1', title: 'Type Guard', description: 'Write type guard.', language: 'javascript', starterCode: 'function isString(x): x is string {\n}', testCases: [{ input: '"hello"', expectedOutput: 'true' }], hints: ['Use typeof'] },
  { id: 'javascript_advanced_7_2', title: 'Generic Function', description: 'Write generic function.', language: 'javascript', starterCode: 'function identity<T>(x: T): T {\n}', testCases: [{ input: '5', expectedOutput: '5' }], hints: ['Use generics'] },
  { id: 'javascript_advanced_7_3', title: 'Type Inference', description: 'Let TS infer types.', language: 'javascript', starterCode: 'const data = // Your code', testCases: [{ input: '', expectedOutput: 'inferred' }], hints: ['Let TS infer'] },
];

const cppChallenges: Challenge[] = [
  // Basic Level 1-7
  { id: 'cpp_basic_1_1', title: 'Hello World', description: 'Print "Hello, World!"', language: 'cpp', starterCode: '#include <iostream>\nint main() {\n    // Your code\n    return 0;\n}', testCases: [{ input: '', expectedOutput: 'Hello, World!' }], hints: ['Use cout'] },
  { id: 'cpp_basic_1_2', title: 'Add Numbers', description: 'Add two integers.', language: 'cpp', starterCode: 'int add(int a, int b) {\n    // Your code\n}', testCases: [{ input: '2, 3', expectedOutput: '5' }], hints: ['Use +'] },
  { id: 'cpp_basic_1_3', title: 'Variable Declaration', description: 'Declare and return int.', language: 'cpp', starterCode: 'int getNumber() {\n    // Your code\n}', testCases: [{ input: '', expectedOutput: '42' }], hints: ['Use int x = 42;'] },
  { id: 'cpp_basic_2_1', title: 'Float Division', description: 'Divide two floats.', language: 'cpp', starterCode: 'float divide(float a, float b) {\n}', testCases: [{ input: '10.0, 4.0', expectedOutput: '2.5' }], hints: ['Use /'] },
  { id: 'cpp_basic_2_2', title: 'Char Type', description: 'Return a character.', language: 'cpp', starterCode: 'char getChar() {\n}', testCases: [{ input: '', expectedOutput: 'A' }], hints: ['Use single quotes'] },
  { id: 'cpp_basic_2_3', title: 'Boolean', description: 'Return true or false.', language: 'cpp', starterCode: 'bool isPositive(int n) {\n}', testCases: [{ input: '5', expectedOutput: 'true' }], hints: ['Use > 0'] },
  { id: 'cpp_basic_3_1', title: 'Modulo', description: 'Return remainder.', language: 'cpp', starterCode: 'int mod(int a, int b) {\n}', testCases: [{ input: '7, 3', expectedOutput: '1' }], hints: ['Use %'] },
  { id: 'cpp_basic_3_2', title: 'Increment', description: 'Increment and return.', language: 'cpp', starterCode: 'int increment(int n) {\n}', testCases: [{ input: '5', expectedOutput: '6' }], hints: ['Use ++'] },
  { id: 'cpp_basic_3_3', title: 'Comparison', description: 'Return larger number.', language: 'cpp', starterCode: 'int max(int a, int b) {\n}', testCases: [{ input: '3, 7', expectedOutput: '7' }], hints: ['Use ternary or if'] },
  { id: 'cpp_basic_4_1', title: 'Array Sum', description: 'Sum array elements.', language: 'cpp', starterCode: 'int sum(int arr[], int n) {\n}', testCases: [{ input: '[1,2,3], 3', expectedOutput: '6' }], hints: ['Use loop'] },
  { id: 'cpp_basic_4_2', title: 'Array Max', description: 'Find maximum.', language: 'cpp', starterCode: 'int findMax(int arr[], int n) {\n}', testCases: [{ input: '[1,5,3], 3', expectedOutput: '5' }], hints: ['Track maximum'] },
  { id: 'cpp_basic_4_3', title: 'Array Reverse', description: 'Reverse array.', language: 'cpp', starterCode: 'void reverse(int arr[], int n) {\n}', testCases: [{ input: '[1,2,3], 3', expectedOutput: '[3,2,1]' }], hints: ['Swap elements'] },
  { id: 'cpp_basic_5_1', title: 'String Length', description: 'Get string length.', language: 'cpp', starterCode: '#include <string>\nint strLen(std::string s) {\n}', testCases: [{ input: '"hello"', expectedOutput: '5' }], hints: ['Use .length()'] },
  { id: 'cpp_basic_5_2', title: 'String Concat', description: 'Concatenate strings.', language: 'cpp', starterCode: 'std::string concat(std::string a, std::string b) {\n}', testCases: [{ input: '"hello", " world"', expectedOutput: 'hello world' }], hints: ['Use +'] },
  { id: 'cpp_basic_5_3', title: 'Substring', description: 'Get substring.', language: 'cpp', starterCode: 'std::string sub(std::string s, int start, int len) {\n}', testCases: [{ input: '"hello", 0, 3', expectedOutput: 'hel' }], hints: ['Use .substr()'] },
  { id: 'cpp_basic_6_1', title: 'Pointer Basics', description: 'Use pointer to modify.', language: 'cpp', starterCode: 'void doubleIt(int* ptr) {\n}', testCases: [{ input: '&x where x=5', expectedOutput: '10' }], hints: ['Use *ptr'] },
  { id: 'cpp_basic_6_2', title: 'Pointer Arithmetic', description: 'Access array via pointer.', language: 'cpp', starterCode: 'int getElement(int* arr, int index) {\n}', testCases: [{ input: 'arr, 2', expectedOutput: '3' }], hints: ['Use *(arr + index)'] },
  { id: 'cpp_basic_6_3', title: 'Null Check', description: 'Check for nullptr.', language: 'cpp', starterCode: 'bool isNull(int* ptr) {\n}', testCases: [{ input: 'nullptr', expectedOutput: 'true' }], hints: ['Use == nullptr'] },
  { id: 'cpp_basic_7_1', title: 'Reference', description: 'Modify via reference.', language: 'cpp', starterCode: 'void increment(int& n) {\n}', testCases: [{ input: 'x where x=5', expectedOutput: '6' }], hints: ['Use &'] },
  { id: 'cpp_basic_7_2', title: 'Const Reference', description: 'Pass const reference.', language: 'cpp', starterCode: 'int getValue(const int& n) {\n}', testCases: [{ input: '5', expectedOutput: '5' }], hints: ['Use const &'] },
  { id: 'cpp_basic_7_3', title: 'Reference Return', description: 'Return reference.', language: 'cpp', starterCode: 'int& getRef(int arr[], int index) {\n}', testCases: [{ input: 'arr, 0', expectedOutput: 'reference' }], hints: ['Return arr[index]'] },
  // Intermediate
  { id: 'cpp_intermediate_1_1', title: 'Function Overload', description: 'Overload a function.', language: 'cpp', starterCode: 'int add(int a, int b) {\n}\ndouble add(double a, double b) {\n}', testCases: [{ input: '1.5, 2.5', expectedOutput: '4.0' }], hints: ['Same name, different params'] },
  { id: 'cpp_intermediate_1_2', title: 'Default Args', description: 'Use default arguments.', language: 'cpp', starterCode: 'int multiply(int a, int b = 2) {\n}', testCases: [{ input: '5', expectedOutput: '10' }], hints: ['Set default in declaration'] },
  { id: 'cpp_intermediate_1_3', title: 'Inline Function', description: 'Create inline function.', language: 'cpp', starterCode: 'inline int square(int n) {\n}', testCases: [{ input: '5', expectedOutput: '25' }], hints: ['Use inline keyword'] },
  { id: 'cpp_intermediate_2_1', title: 'Simple Class', description: 'Create a class.', language: 'cpp', starterCode: 'class Rectangle {\npublic:\n    int width, height;\n};', testCases: [{ input: 'Rectangle r; r.width=5;', expectedOutput: '5' }], hints: ['Define members'] },
  { id: 'cpp_intermediate_2_2', title: 'Constructor', description: 'Add constructor.', language: 'cpp', starterCode: 'class Person {\npublic:\n    std::string name;\n    Person(std::string n) {\n    }\n};', testCases: [{ input: 'Person("Alice")', expectedOutput: 'Alice' }], hints: ['Initialize in constructor'] },
  { id: 'cpp_intermediate_2_3', title: 'Destructor', description: 'Add destructor.', language: 'cpp', starterCode: 'class Resource {\npublic:\n    ~Resource() {\n    }\n};', testCases: [{ input: 'Resource r; // goes out of scope', expectedOutput: 'destroyed' }], hints: ['Use ~ClassName()'] },
  { id: 'cpp_intermediate_3_1', title: 'Inheritance', description: 'Create derived class.', language: 'cpp', starterCode: 'class Animal {\n};\nclass Dog : public Animal {\n};', testCases: [{ input: 'Dog().speak()', expectedOutput: 'Woof' }], hints: ['Use : public Base'] },
  { id: 'cpp_intermediate_3_2', title: 'Protected Members', description: 'Use protected members.', language: 'cpp', starterCode: 'class Base {\nprotected:\n    int x;\n};', testCases: [{ input: 'Derived().getX()', expectedOutput: '10' }], hints: ['Access in derived'] },
  { id: 'cpp_intermediate_3_3', title: 'Override', description: 'Override virtual function.', language: 'cpp', starterCode: 'class Base {\npublic:\n    virtual void speak() {}\n};', testCases: [{ input: 'Derived().speak()', expectedOutput: 'Derived' }], hints: ['Use override keyword'] },
  { id: 'cpp_intermediate_4_1', title: 'Virtual Function', description: 'Use virtual functions.', language: 'cpp', starterCode: 'class Shape {\npublic:\n    virtual double area() = 0;\n};', testCases: [{ input: 'Circle(5).area()', expectedOutput: '78.5' }], hints: ['Pure virtual = 0'] },
  { id: 'cpp_intermediate_4_2', title: 'Abstract Class', description: 'Create abstract class.', language: 'cpp', starterCode: 'class Interface {\npublic:\n    virtual void method() = 0;\n};', testCases: [{ input: 'Implementation().method()', expectedOutput: 'implemented' }], hints: ['At least one pure virtual'] },
  { id: 'cpp_intermediate_4_3', title: 'Dynamic Cast', description: 'Use dynamic_cast.', language: 'cpp', starterCode: 'Derived* cast(Base* b) {\n}', testCases: [{ input: 'base_ptr', expectedOutput: 'derived_ptr' }], hints: ['Use dynamic_cast<Derived*>'] },
  { id: 'cpp_intermediate_5_1', title: 'Function Template', description: 'Create function template.', language: 'cpp', starterCode: 'template<typename T>\nT maximum(T a, T b) {\n}', testCases: [{ input: '3, 7', expectedOutput: '7' }], hints: ['Use template<typename T>'] },
  { id: 'cpp_intermediate_5_2', title: 'Class Template', description: 'Create class template.', language: 'cpp', starterCode: 'template<typename T>\nclass Box {\n    T value;\n};', testCases: [{ input: 'Box<int>', expectedOutput: 'int box' }], hints: ['Template class'] },
  { id: 'cpp_intermediate_5_3', title: 'Template Specialization', description: 'Specialize template.', language: 'cpp', starterCode: 'template<>\nclass Box<bool> {\n};', testCases: [{ input: 'Box<bool>', expectedOutput: 'specialized' }], hints: ['Use template<>'] },
  { id: 'cpp_intermediate_6_1', title: 'Vector', description: 'Use std::vector.', language: 'cpp', starterCode: '#include <vector>\nint sumVector(std::vector<int>& v) {\n}', testCases: [{ input: '[1,2,3]', expectedOutput: '6' }], hints: ['Use v[i] or range-for'] },
  { id: 'cpp_intermediate_6_2', title: 'Map', description: 'Use std::map.', language: 'cpp', starterCode: '#include <map>\nint getValue(std::map<std::string,int>& m, std::string key) {\n}', testCases: [{ input: 'm, "key"', expectedOutput: '42' }], hints: ['Use m[key]'] },
  { id: 'cpp_intermediate_6_3', title: 'Set', description: 'Use std::set.', language: 'cpp', starterCode: '#include <set>\nbool contains(std::set<int>& s, int val) {\n}', testCases: [{ input: 's, 5', expectedOutput: 'true' }], hints: ['Use s.count() or s.find()'] },
  { id: 'cpp_intermediate_7_1', title: 'File Read', description: 'Read from file.', language: 'cpp', starterCode: '#include <fstream>\nstd::string readFile(std::string path) {\n}', testCases: [{ input: '"test.txt"', expectedOutput: 'content' }], hints: ['Use ifstream'] },
  { id: 'cpp_intermediate_7_2', title: 'File Write', description: 'Write to file.', language: 'cpp', starterCode: '#include <fstream>\nvoid writeFile(std::string path, std::string content) {\n}', testCases: [{ input: '"out.txt", "hello"', expectedOutput: 'written' }], hints: ['Use ofstream'] },
  { id: 'cpp_intermediate_7_3', title: 'Binary File', description: 'Read binary file.', language: 'cpp', starterCode: '#include <fstream>\nvoid readBinary(std::string path) {\n}', testCases: [{ input: '"data.bin"', expectedOutput: 'bytes' }], hints: ['Use ios::binary'] },
  // Advanced
  { id: 'cpp_advanced_1_1', title: 'Unique Ptr', description: 'Use unique_ptr.', language: 'cpp', starterCode: '#include <memory>\nvoid useUnique() {\n}', testCases: [{ input: '', expectedOutput: 'managed' }], hints: ['Use std::make_unique'] },
  { id: 'cpp_advanced_1_2', title: 'Shared Ptr', description: 'Use shared_ptr.', language: 'cpp', starterCode: '#include <memory>\nvoid useShared() {\n}', testCases: [{ input: '', expectedOutput: 'shared' }], hints: ['Use std::make_shared'] },
  { id: 'cpp_advanced_1_3', title: 'Weak Ptr', description: 'Use weak_ptr.', language: 'cpp', starterCode: '#include <memory>\nvoid useWeak() {\n}', testCases: [{ input: '', expectedOutput: 'weak' }], hints: ['Prevent circular refs'] },
  { id: 'cpp_advanced_2_1', title: 'Move Semantics', description: 'Use std::move.', language: 'cpp', starterCode: 'void moveIt(std::string&& s) {\n}', testCases: [{ input: 'std::move(str)', expectedOutput: 'moved' }], hints: ['Use && and std::move'] },
  { id: 'cpp_advanced_2_2', title: 'Move Constructor', description: 'Implement move constructor.', language: 'cpp', starterCode: 'class Resource {\n    Resource(Resource&& other) noexcept {\n    }\n};', testCases: [{ input: 'Resource(std::move(r))', expectedOutput: 'moved' }], hints: ['Transfer ownership'] },
  { id: 'cpp_advanced_2_3', title: 'Perfect Forwarding', description: 'Use std::forward.', language: 'cpp', starterCode: 'template<typename T>\nvoid forward(T&& arg) {\n}', testCases: [{ input: 'lvalue/rvalue', expectedOutput: 'forwarded' }], hints: ['Use std::forward<T>(arg)'] },
  { id: 'cpp_advanced_3_1', title: 'Thread', description: 'Create a thread.', language: 'cpp', starterCode: '#include <thread>\nvoid runThread() {\n}', testCases: [{ input: '', expectedOutput: 'threaded' }], hints: ['Use std::thread'] },
  { id: 'cpp_advanced_3_2', title: 'Mutex', description: 'Use mutex for sync.', language: 'cpp', starterCode: '#include <mutex>\nvoid safeIncrement() {\n}', testCases: [{ input: '', expectedOutput: 'synchronized' }], hints: ['Use std::lock_guard'] },
  { id: 'cpp_advanced_3_3', title: 'Condition Variable', description: 'Use condition_variable.', language: 'cpp', starterCode: '#include <condition_variable>\nvoid waitForSignal() {\n}', testCases: [{ input: '', expectedOutput: 'signaled' }], hints: ['Use wait() and notify_one()'] },
  { id: 'cpp_advanced_4_1', title: 'Lambda', description: 'Create a lambda.', language: 'cpp', starterCode: 'auto getLambda() {\n    return []() {\n    };\n}', testCases: [{ input: '', expectedOutput: 'lambda' }], hints: ['Use [] captures'] },
  { id: 'cpp_advanced_4_2', title: 'Lambda Capture', description: 'Capture variables.', language: 'cpp', starterCode: 'int x = 5;\nauto f = [x]() {\n};', testCases: [{ input: '', expectedOutput: '5' }], hints: ['Use [=] or [&]'] },
  { id: 'cpp_advanced_4_3', title: 'Generic Lambda', description: 'Create generic lambda.', language: 'cpp', starterCode: 'auto genericAdd = [](auto a, auto b) {\n};', testCases: [{ input: '1, 2', expectedOutput: '3' }], hints: ['Use auto params'] },
  { id: 'cpp_advanced_5_1', title: 'SFINAE', description: 'Use SFINAE.', language: 'cpp', starterCode: 'template<typename T>\nauto process(T t) -> decltype(...) {\n}', testCases: [{ input: '', expectedOutput: 'SFINAE' }], hints: ['Use enable_if'] },
  { id: 'cpp_advanced_5_2', title: 'Constexpr', description: 'Use constexpr.', language: 'cpp', starterCode: 'constexpr int factorial(int n) {\n}', testCases: [{ input: '5', expectedOutput: '120' }], hints: ['Compile-time computation'] },
  { id: 'cpp_advanced_5_3', title: 'Variadic Template', description: 'Use variadic templates.', language: 'cpp', starterCode: 'template<typename... Args>\nvoid print(Args... args) {\n}', testCases: [{ input: '1, 2, 3', expectedOutput: '1 2 3' }], hints: ['Use ... parameter pack'] },
  { id: 'cpp_advanced_6_1', title: 'New/Delete', description: 'Manual memory management.', language: 'cpp', starterCode: 'int* createArray(int n) {\n}', testCases: [{ input: '5', expectedOutput: 'array' }], hints: ['Use new[] and delete[]'] },
  { id: 'cpp_advanced_6_2', title: 'Placement New', description: 'Use placement new.', language: 'cpp', starterCode: 'void placementNew(void* buf) {\n}', testCases: [{ input: 'buffer', expectedOutput: 'placed' }], hints: ['Construct in buffer'] },
  { id: 'cpp_advanced_6_3', title: 'Custom Allocator', description: 'Create custom allocator.', language: 'cpp', starterCode: 'template<typename T>\nclass MyAllocator {\n};', testCases: [{ input: '', expectedOutput: 'allocated' }], hints: ['Implement allocate/deallocate'] },
  { id: 'cpp_advanced_7_1', title: 'Singleton', description: 'Implement singleton.', language: 'cpp', starterCode: 'class Singleton {\npublic:\n    static Singleton& getInstance() {\n    }\n};', testCases: [{ input: 'getInstance()', expectedOutput: 'same instance' }], hints: ['Static local variable'] },
  { id: 'cpp_advanced_7_2', title: 'Factory', description: 'Implement factory.', language: 'cpp', starterCode: 'class Factory {\npublic:\n    static std::unique_ptr<Base> create(std::string type) {\n    }\n};', testCases: [{ input: '"A"', expectedOutput: 'A instance' }], hints: ['Return different derived types'] },
  { id: 'cpp_advanced_7_3', title: 'Observer', description: 'Implement observer.', language: 'cpp', starterCode: 'class Subject {\n    std::vector<Observer*> observers;\n};', testCases: [{ input: 'notify()', expectedOutput: 'notified' }], hints: ['Store and notify observers'] },
];

export const challenges: Challenge[] = [
  ...pythonChallenges,
  ...javascriptChallenges,
  ...cppChallenges,
];

export const getChallenge = (id: string): Challenge | undefined => {
  return challenges.find((c) => c.id === id);
};
